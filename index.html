<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Safarihoo - Your Ultimate Travel Companion</title>
<script src="https://cdn.tailwindcss.com/3.4.16"></script>
<script>tailwind.config={theme:{extend:{colors:{primary:'#3A6B35',secondary:'#FFA62B'},borderRadius:{'none':'0px','sm':'4px',DEFAULT:'8px','md':'12px','lg':'16px','xl':'20px','2xl':'24px','3xl':'32px','full':'9999px','button':'8px'}}}}</script>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Pacifico&display=swap" rel="stylesheet">
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/remixicon/4.6.0/remixicon.min.css">
<!-- ... (le reste de votre <head> et <style> inchangé) ... -->
</head>
<body>
<!-- ... (tout le contenu HTML inchangé jusqu'à la section des scripts) ... -->

<script id="search-widget-script">
function openSearchWidget() {
  // Récupérer les valeurs du formulaire
  const from = document.querySelector('#flights-tab input[placeholder="City or Airport"]').value.trim();
  const to = document.querySelectorAll('#flights-tab input[placeholder="City or Airport"]')[1].value.trim();
  const departure = document.querySelector('#flights-tab input[type="date"]').value;
  const returnDate = document.querySelectorAll('#flights-tab input[type="date"]')[1].value;
  const passengers = document.querySelector('#flights-tab select').selectedIndex + 1; // 1 à 4 adultes

  // Sélecteur pour afficher les erreurs
  let errorDiv = document.getElementById('flight-search-error');
  if (!errorDiv) {
    errorDiv = document.createElement('div');
    errorDiv.id = 'flight-search-error';
    errorDiv.style.color = 'red';
    errorDiv.style.margin = '10px 0';
    errorDiv.style.textAlign = 'center';
    const parent = document.querySelector('#flights-tab');
    parent.appendChild(errorDiv);
  }

  // Validation des champs
  if (!from || !to || !departure) {
    errorDiv.textContent = 'Veuillez remplir tous les champs obligatoires (Départ, Arrivée, Date de départ).';
    return;
  }
  errorDiv.textContent = '';

  // Construire l'URL de recherche (exemple Aviasales)
  let url = `https://www.aviasales.com/search?origin=${encodeURIComponent(from)}&destination=${encodeURIComponent(to)}&depart_date=${departure}`;
  if (returnDate) url += `&return_date=${returnDate}`;
  url += `&adults=${passengers}`;

  // Rediriger vers le site partenaire
  window.open(url, '_blank');
}

function openHotelSearch() {
  // Récupérer les valeurs du formulaire
  const destination = document.querySelector('#hotels-tab input[placeholder="City or Hotel"]').value.trim();
  const guestsSelect = document.querySelector('#hotels-tab select');
  const guestsText = guestsSelect.options[guestsSelect.selectedIndex].text;
  let adults = 2, children = 0;
  // Extraction simple du nombre d'adultes et d'enfants
  const match = guestsText.match(/(\\d+) Adult/);
  if (match) adults = parseInt(match[1]);
  const matchChild = guestsText.match(/(\\d+) Child/);
  if (matchChild) children = parseInt(matchChild[1]);
  const checkIn = document.querySelectorAll('#hotels-tab input[type="date"]')[0].value;
  const checkOut = document.querySelectorAll('#hotels-tab input[type="date"]')[1].value;

  // Sélecteur pour afficher les erreurs
  let errorDiv = document.getElementById('hotel-search-error');
  if (!errorDiv) {
    errorDiv = document.createElement('div');
    errorDiv.id = 'hotel-search-error';
    errorDiv.style.color = 'red';
    errorDiv.style.margin = '10px 0';
    errorDiv.style.textAlign = 'center';
    const parent = document.querySelector('#hotels-tab');
    parent.appendChild(errorDiv);
  }

  // Validation des champs
  if (!destination || !checkIn || !checkOut) {
    errorDiv.textContent = 'Veuillez remplir tous les champs obligatoires (Destination, Check-in, Check-out).';
    return;
  }
  errorDiv.textContent = '';

  // Construire l'URL de recherche (Hotellook)
  let url = `https://hotellook.tpm.li/b7olhaGZ?search=${encodeURIComponent(destination)}&checkIn=${checkIn}&checkOut=${checkOut}&adults=${adults}&children=${children}`;
  window.open(url, '_blank');
}

function openCarSearch() {
  // Récupérer les valeurs du formulaire
  const pickup = document.querySelector('#cars-tab input[placeholder="City or Airport"]').value.trim();
  const dropoff = document.querySelectorAll('#cars-tab input[placeholder="City or Airport"]')[1].value.trim();
  const pickupDate = document.querySelectorAll('#cars-tab input[type="date"]')[0].value;
  const dropoffDate = document.querySelectorAll('#cars-tab input[type="date"]')[1].value;
  const carType = document.querySelector('#cars-tab select').value;

  // Sélecteur pour afficher les erreurs
  let errorDiv = document.getElementById('car-search-error');
  if (!errorDiv) {
    errorDiv = document.createElement('div');
    errorDiv.id = 'car-search-error';
    errorDiv.style.color = 'red';
    errorDiv.style.margin = '10px 0';
    errorDiv.style.textAlign = 'center';
    const parent = document.querySelector('#cars-tab');
    parent.appendChild(errorDiv);
  }

  // Validation des champs
  if (!pickup || !dropoff || !pickupDate || !dropoffDate) {
    errorDiv.textContent = 'Veuillez remplir tous les champs obligatoires (Lieu de prise en charge, Lieu de retour, Dates).';
    return;
  }
  errorDiv.textContent = '';

  // Construire l'URL de recherche (GetRentACar)
  let url = `https://getrentacar.tpm.li/vioWZ86l?location=${encodeURIComponent(pickup)}&dropoff=${encodeURIComponent(dropoff)}&pickup=${pickupDate}&dropoff_date=${dropoffDate}&type=${encodeURIComponent(carType)}`;
  window.open(url, '_blank');
}

function openActivitySearch() {
  // Récupérer les valeurs du formulaire
  const destination = document.querySelector('#activities-tab input[placeholder="City or Attraction"]').value.trim();
  const date = document.querySelector('#activities-tab input[type="date"]').value;
  const type = document.querySelector('#activities-tab select').value;
  const participantsSelect = document.querySelectorAll('#activities-tab select')[1];
  const participantsText = participantsSelect.options[participantsSelect.selectedIndex].text;
  let participants = 1;
  const match = participantsText.match(/(\\d+)/);
  if (match) participants = parseInt(match[1]);

  // Sélecteur pour afficher les erreurs
  let errorDiv = document.getElementById('activity-search-error');
  if (!errorDiv) {
    errorDiv = document.createElement('div');
    errorDiv.id = 'activity-search-error';
    errorDiv.style.color = 'red';
    errorDiv.style.margin = '10px 0';
    errorDiv.style.textAlign = 'center';
    const parent = document.querySelector('#activities-tab');
    parent.appendChild(errorDiv);
  }

  // Validation des champs
  if (!destination || !date) {
    errorDiv.textContent = 'Veuillez remplir tous les champs obligatoires (Destination, Date).';
    return;
  }
  errorDiv.textContent = '';

  // Construire l'URL de recherche (WeGoTrip)
  let url = `https://wegotrip.tpm.li/MiJxBGR8?city=${encodeURIComponent(destination)}&date=${date}&type=${encodeURIComponent(type)}&participants=${participants}`;
  window.open(url, '_blank');
}
</script>
<!-- ... (le reste de vos scripts et la fin du fichier inchangés) ... -->
</body>
</html>
